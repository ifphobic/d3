<!DOCTYPE html>
<meta charset="utf-8">

<link rel="stylesheet" type="text/css" href="chart.css" ></link>
<link rel="stylesheet" type="text/css" href="tacho.css" ></link>

<script src="lib/d3.min.js" ></script>
<script src="chart.js" ></script>
<script src="chartConfig.js" ></script>
<script src="tacho.js" ></script>
<script src="tachoConfig.js" ></script>
<script>


function randomInt(max) {
   return Math.floor((Math.random() * (max + 1)) ); 
}

function load() {
   
   var chartConfig = new ChartConfig();
   var chart = new Chart();
   chart.initialize("chart", chartConfig.getConfig());
   var timer = chart.startLoading();
   

   var tachoConfig = new TachoConfig();
   var tacho0 = new Tacho(); 
   tacho0.initialize("tacho0", tachoConfig.getConfig()); 
   tacho0.update(75, 100);
   var tacho1 = new Tacho(); 
   tacho1.initialize("tacho1", tachoConfig.getConfig()); 
   tacho1.update(45, 100);
   var tacho2 = new Tacho(); 
   tacho2.initialize("tacho2", tachoConfig.getConfig()); 
   tacho2.update(15, 100);
   

   setTimeout(function() { tacho0.update(3, 100)} , 5000);
   setTimeout(function() { tacho1.update(30, 100)} , 6000);
   setTimeout(function() { tacho2.update(100, 100)} , 8000);
   setTimeout(function() { chart.stopLoading(timer)}, 7000);
}
</script>

<body onload="load()">

   <svg id="tacho0"></svg>
   <svg id="tacho1"></svg>
   <svg id="tacho2"></svg>
   <br>
   <svg id="chart" ></svg>

</body>
